"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529";
exports.ids = ["vendor-chunks/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/fields/getFields.js":
/*!****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/fields/getFields.js ***!
  \****************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getFields: () => (/* binding */ getFields)\n/* harmony export */ });\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var _hooks_afterRead_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../hooks/afterRead.js */ \"(rsc)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/hooks/afterRead.js\");\n/* harmony import */ var _hooks_beforeChange_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hooks/beforeChange.js */ \"(rsc)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/hooks/beforeChange.js\");\n\n\n\nconst getFields = ({ adapter, alwaysInsertFields, collection, disablePayloadAccessControl, generateFileURL, prefix })=>{\n    const baseURLField = {\n        name: 'url',\n        type: 'text',\n        admin: {\n            hidden: true,\n            readOnly: true\n        },\n        label: 'URL'\n    };\n    const basePrefixField = {\n        name: 'prefix',\n        type: 'text',\n        admin: {\n            hidden: true,\n            readOnly: true\n        }\n    };\n    const fields = [\n        ...collection.fields,\n        ...adapter?.fields || []\n    ];\n    // Inject a hook into all URL fields to generate URLs\n    let existingURLFieldIndex = -1;\n    const existingURLField = fields.find((existingField, i)=>{\n        if ('name' in existingField && existingField.name === 'url') {\n            existingURLFieldIndex = i;\n            return true;\n        }\n        return false;\n    });\n    if (existingURLFieldIndex > -1) {\n        fields.splice(existingURLFieldIndex, 1);\n    }\n    // Only add afterRead hook if adapter is provided\n    if (adapter) {\n        fields.push({\n            ...baseURLField,\n            ...existingURLField || {},\n            hooks: {\n                afterRead: [\n                    (0,_hooks_afterRead_js__WEBPACK_IMPORTED_MODULE_1__.getAfterReadHook)({\n                        adapter,\n                        collection,\n                        disablePayloadAccessControl,\n                        generateFileURL\n                    }),\n                    ...existingURLField?.hooks?.afterRead || []\n                ],\n                beforeChange: [\n                    (0,_hooks_beforeChange_js__WEBPACK_IMPORTED_MODULE_2__.getBeforeChangeHook)({\n                        adapter,\n                        collection,\n                        disablePayloadAccessControl,\n                        generateFileURL\n                    }),\n                    ...existingURLField?.hooks?.beforeChange || []\n                ]\n            }\n        });\n    } else {\n        fields.push({\n            ...baseURLField,\n            ...existingURLField || {}\n        });\n    }\n    if (typeof collection.upload === 'object' && collection.upload.imageSizes) {\n        let existingSizesFieldIndex = -1;\n        const existingSizesField = fields.find((existingField, i)=>{\n            if ('name' in existingField && existingField.name === 'sizes') {\n                existingSizesFieldIndex = i;\n                return true;\n            }\n            return false;\n        });\n        if (existingSizesFieldIndex > -1) {\n            fields.splice(existingSizesFieldIndex, 1);\n        }\n        const sizesField = {\n            ...existingSizesField || {},\n            name: 'sizes',\n            type: 'group',\n            admin: {\n                hidden: true\n            },\n            fields: collection.upload.imageSizes.map((size)=>{\n                const existingSizeField = existingSizesField?.fields.find((existingField)=>'name' in existingField && existingField.name === size.name);\n                const existingSizeURLField = existingSizeField?.fields.find((existingField)=>'name' in existingField && existingField.name === 'url');\n                // Only add afterRead hook if adapter is provided\n                const sizeURLField = adapter ? {\n                    ...existingSizeURLField || {},\n                    ...baseURLField,\n                    hooks: {\n                        afterRead: [\n                            (0,_hooks_afterRead_js__WEBPACK_IMPORTED_MODULE_1__.getAfterReadHook)({\n                                adapter,\n                                collection,\n                                disablePayloadAccessControl,\n                                generateFileURL,\n                                size\n                            }),\n                            ...typeof existingSizeURLField === 'object' && 'hooks' in existingSizeURLField && existingSizeURLField?.hooks?.afterRead || []\n                        ],\n                        beforeChange: [\n                            (0,_hooks_beforeChange_js__WEBPACK_IMPORTED_MODULE_2__.getBeforeChangeHook)({\n                                adapter,\n                                collection,\n                                disablePayloadAccessControl,\n                                generateFileURL,\n                                size\n                            }),\n                            ...typeof existingSizeURLField === 'object' && 'hooks' in existingSizeURLField && existingSizeURLField?.hooks?.beforeChange || []\n                        ]\n                    }\n                } : {\n                    ...existingSizeURLField || {},\n                    ...baseURLField\n                };\n                return {\n                    ...existingSizeField,\n                    name: size.name,\n                    type: 'group',\n                    fields: [\n                        ...adapter?.fields || [],\n                        sizeURLField\n                    ]\n                };\n            })\n        };\n        fields.push(sizesField);\n    }\n    // If prefix is enabled or alwaysInsertFields is true, save it to db\n    if (typeof prefix !== 'undefined' || alwaysInsertFields) {\n        let existingPrefixFieldIndex = -1;\n        const existingPrefixField = fields.find((existingField, i)=>{\n            if ('name' in existingField && existingField.name === 'prefix') {\n                existingPrefixFieldIndex = i;\n                return true;\n            }\n            return false;\n        });\n        if (existingPrefixFieldIndex > -1) {\n            fields.splice(existingPrefixFieldIndex, 1);\n        }\n        fields.push({\n            ...basePrefixField,\n            ...existingPrefixField || {},\n            defaultValue: prefix ? path__WEBPACK_IMPORTED_MODULE_0__.posix.join(prefix) : ''\n        });\n    }\n    return fields;\n};\n\n//# sourceMappingURL=getFields.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrcGx1Z2luLWNsb3VkLXN0XzRiOWY0Y2QwYjM5Y2JmMzMwMzg2YWU0YmZlZWJkNTI5L25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9wbHVnaW4tY2xvdWQtc3RvcmFnZS9kaXN0L2ZpZWxkcy9nZXRGaWVsZHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF3QjtBQUNpQztBQUNNO0FBQ3hELHFCQUFxQiwrRkFBK0Y7QUFDM0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQSxvQkFBb0IscUVBQWdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyRUFBbUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHFFQUFnQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwyRUFBbUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEIsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEMsbUNBQW1DLHVDQUFVO0FBQzdDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIkM6XFxwcm9qZWN0c1xcYXV0aFxcbm9kZV9tb2R1bGVzXFwucG5wbVxcQHBheWxvYWRjbXMrcGx1Z2luLWNsb3VkLXN0XzRiOWY0Y2QwYjM5Y2JmMzMwMzg2YWU0YmZlZWJkNTI5XFxub2RlX21vZHVsZXNcXEBwYXlsb2FkY21zXFxwbHVnaW4tY2xvdWQtc3RvcmFnZVxcZGlzdFxcZmllbGRzXFxnZXRGaWVsZHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBnZXRBZnRlclJlYWRIb29rIH0gZnJvbSAnLi4vaG9va3MvYWZ0ZXJSZWFkLmpzJztcbmltcG9ydCB7IGdldEJlZm9yZUNoYW5nZUhvb2sgfSBmcm9tICcuLi9ob29rcy9iZWZvcmVDaGFuZ2UuanMnO1xuZXhwb3J0IGNvbnN0IGdldEZpZWxkcyA9ICh7IGFkYXB0ZXIsIGFsd2F5c0luc2VydEZpZWxkcywgY29sbGVjdGlvbiwgZGlzYWJsZVBheWxvYWRBY2Nlc3NDb250cm9sLCBnZW5lcmF0ZUZpbGVVUkwsIHByZWZpeCB9KT0+e1xuICAgIGNvbnN0IGJhc2VVUkxGaWVsZCA9IHtcbiAgICAgICAgbmFtZTogJ3VybCcsXG4gICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgYWRtaW46IHtcbiAgICAgICAgICAgIGhpZGRlbjogdHJ1ZSxcbiAgICAgICAgICAgIHJlYWRPbmx5OiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGxhYmVsOiAnVVJMJ1xuICAgIH07XG4gICAgY29uc3QgYmFzZVByZWZpeEZpZWxkID0ge1xuICAgICAgICBuYW1lOiAncHJlZml4JyxcbiAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICBhZG1pbjoge1xuICAgICAgICAgICAgaGlkZGVuOiB0cnVlLFxuICAgICAgICAgICAgcmVhZE9ubHk6IHRydWVcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZmllbGRzID0gW1xuICAgICAgICAuLi5jb2xsZWN0aW9uLmZpZWxkcyxcbiAgICAgICAgLi4uYWRhcHRlcj8uZmllbGRzIHx8IFtdXG4gICAgXTtcbiAgICAvLyBJbmplY3QgYSBob29rIGludG8gYWxsIFVSTCBmaWVsZHMgdG8gZ2VuZXJhdGUgVVJMc1xuICAgIGxldCBleGlzdGluZ1VSTEZpZWxkSW5kZXggPSAtMTtcbiAgICBjb25zdCBleGlzdGluZ1VSTEZpZWxkID0gZmllbGRzLmZpbmQoKGV4aXN0aW5nRmllbGQsIGkpPT57XG4gICAgICAgIGlmICgnbmFtZScgaW4gZXhpc3RpbmdGaWVsZCAmJiBleGlzdGluZ0ZpZWxkLm5hbWUgPT09ICd1cmwnKSB7XG4gICAgICAgICAgICBleGlzdGluZ1VSTEZpZWxkSW5kZXggPSBpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuICAgIGlmIChleGlzdGluZ1VSTEZpZWxkSW5kZXggPiAtMSkge1xuICAgICAgICBmaWVsZHMuc3BsaWNlKGV4aXN0aW5nVVJMRmllbGRJbmRleCwgMSk7XG4gICAgfVxuICAgIC8vIE9ubHkgYWRkIGFmdGVyUmVhZCBob29rIGlmIGFkYXB0ZXIgaXMgcHJvdmlkZWRcbiAgICBpZiAoYWRhcHRlcikge1xuICAgICAgICBmaWVsZHMucHVzaCh7XG4gICAgICAgICAgICAuLi5iYXNlVVJMRmllbGQsXG4gICAgICAgICAgICAuLi5leGlzdGluZ1VSTEZpZWxkIHx8IHt9LFxuICAgICAgICAgICAgaG9va3M6IHtcbiAgICAgICAgICAgICAgICBhZnRlclJlYWQ6IFtcbiAgICAgICAgICAgICAgICAgICAgZ2V0QWZ0ZXJSZWFkSG9vayh7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGFwdGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVQYXlsb2FkQWNjZXNzQ29udHJvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlRmlsZVVSTFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgLi4uZXhpc3RpbmdVUkxGaWVsZD8uaG9va3M/LmFmdGVyUmVhZCB8fCBbXVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgYmVmb3JlQ2hhbmdlOiBbXG4gICAgICAgICAgICAgICAgICAgIGdldEJlZm9yZUNoYW5nZUhvb2soe1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRhcHRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlUGF5bG9hZEFjY2Vzc0NvbnRyb2wsXG4gICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUZpbGVVUkxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIC4uLmV4aXN0aW5nVVJMRmllbGQ/Lmhvb2tzPy5iZWZvcmVDaGFuZ2UgfHwgW11cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZpZWxkcy5wdXNoKHtcbiAgICAgICAgICAgIC4uLmJhc2VVUkxGaWVsZCxcbiAgICAgICAgICAgIC4uLmV4aXN0aW5nVVJMRmllbGQgfHwge31cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29sbGVjdGlvbi51cGxvYWQgPT09ICdvYmplY3QnICYmIGNvbGxlY3Rpb24udXBsb2FkLmltYWdlU2l6ZXMpIHtcbiAgICAgICAgbGV0IGV4aXN0aW5nU2l6ZXNGaWVsZEluZGV4ID0gLTE7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nU2l6ZXNGaWVsZCA9IGZpZWxkcy5maW5kKChleGlzdGluZ0ZpZWxkLCBpKT0+e1xuICAgICAgICAgICAgaWYgKCduYW1lJyBpbiBleGlzdGluZ0ZpZWxkICYmIGV4aXN0aW5nRmllbGQubmFtZSA9PT0gJ3NpemVzJykge1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nU2l6ZXNGaWVsZEluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChleGlzdGluZ1NpemVzRmllbGRJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICBmaWVsZHMuc3BsaWNlKGV4aXN0aW5nU2l6ZXNGaWVsZEluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaXplc0ZpZWxkID0ge1xuICAgICAgICAgICAgLi4uZXhpc3RpbmdTaXplc0ZpZWxkIHx8IHt9LFxuICAgICAgICAgICAgbmFtZTogJ3NpemVzJyxcbiAgICAgICAgICAgIHR5cGU6ICdncm91cCcsXG4gICAgICAgICAgICBhZG1pbjoge1xuICAgICAgICAgICAgICAgIGhpZGRlbjogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpZWxkczogY29sbGVjdGlvbi51cGxvYWQuaW1hZ2VTaXplcy5tYXAoKHNpemUpPT57XG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdTaXplRmllbGQgPSBleGlzdGluZ1NpemVzRmllbGQ/LmZpZWxkcy5maW5kKChleGlzdGluZ0ZpZWxkKT0+J25hbWUnIGluIGV4aXN0aW5nRmllbGQgJiYgZXhpc3RpbmdGaWVsZC5uYW1lID09PSBzaXplLm5hbWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nU2l6ZVVSTEZpZWxkID0gZXhpc3RpbmdTaXplRmllbGQ/LmZpZWxkcy5maW5kKChleGlzdGluZ0ZpZWxkKT0+J25hbWUnIGluIGV4aXN0aW5nRmllbGQgJiYgZXhpc3RpbmdGaWVsZC5uYW1lID09PSAndXJsJyk7XG4gICAgICAgICAgICAgICAgLy8gT25seSBhZGQgYWZ0ZXJSZWFkIGhvb2sgaWYgYWRhcHRlciBpcyBwcm92aWRlZFxuICAgICAgICAgICAgICAgIGNvbnN0IHNpemVVUkxGaWVsZCA9IGFkYXB0ZXIgPyB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmV4aXN0aW5nU2l6ZVVSTEZpZWxkIHx8IHt9LFxuICAgICAgICAgICAgICAgICAgICAuLi5iYXNlVVJMRmllbGQsXG4gICAgICAgICAgICAgICAgICAgIGhvb2tzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZnRlclJlYWQ6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRBZnRlclJlYWRIb29rKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRhcHRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVBheWxvYWRBY2Nlc3NDb250cm9sLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUZpbGVVUkwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50eXBlb2YgZXhpc3RpbmdTaXplVVJMRmllbGQgPT09ICdvYmplY3QnICYmICdob29rcycgaW4gZXhpc3RpbmdTaXplVVJMRmllbGQgJiYgZXhpc3RpbmdTaXplVVJMRmllbGQ/Lmhvb2tzPy5hZnRlclJlYWQgfHwgW11cbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBiZWZvcmVDaGFuZ2U6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRCZWZvcmVDaGFuZ2VIb29rKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRhcHRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVBheWxvYWRBY2Nlc3NDb250cm9sLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUZpbGVVUkwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50eXBlb2YgZXhpc3RpbmdTaXplVVJMRmllbGQgPT09ICdvYmplY3QnICYmICdob29rcycgaW4gZXhpc3RpbmdTaXplVVJMRmllbGQgJiYgZXhpc3RpbmdTaXplVVJMRmllbGQ/Lmhvb2tzPy5iZWZvcmVDaGFuZ2UgfHwgW11cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmV4aXN0aW5nU2l6ZVVSTEZpZWxkIHx8IHt9LFxuICAgICAgICAgICAgICAgICAgICAuLi5iYXNlVVJMRmllbGRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmV4aXN0aW5nU2l6ZUZpZWxkLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBzaXplLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdncm91cCcsXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uYWRhcHRlcj8uZmllbGRzIHx8IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZVVSTEZpZWxkXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICAgICAgZmllbGRzLnB1c2goc2l6ZXNGaWVsZCk7XG4gICAgfVxuICAgIC8vIElmIHByZWZpeCBpcyBlbmFibGVkIG9yIGFsd2F5c0luc2VydEZpZWxkcyBpcyB0cnVlLCBzYXZlIGl0IHRvIGRiXG4gICAgaWYgKHR5cGVvZiBwcmVmaXggIT09ICd1bmRlZmluZWQnIHx8IGFsd2F5c0luc2VydEZpZWxkcykge1xuICAgICAgICBsZXQgZXhpc3RpbmdQcmVmaXhGaWVsZEluZGV4ID0gLTE7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nUHJlZml4RmllbGQgPSBmaWVsZHMuZmluZCgoZXhpc3RpbmdGaWVsZCwgaSk9PntcbiAgICAgICAgICAgIGlmICgnbmFtZScgaW4gZXhpc3RpbmdGaWVsZCAmJiBleGlzdGluZ0ZpZWxkLm5hbWUgPT09ICdwcmVmaXgnKSB7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdQcmVmaXhGaWVsZEluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChleGlzdGluZ1ByZWZpeEZpZWxkSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgZmllbGRzLnNwbGljZShleGlzdGluZ1ByZWZpeEZpZWxkSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGZpZWxkcy5wdXNoKHtcbiAgICAgICAgICAgIC4uLmJhc2VQcmVmaXhGaWVsZCxcbiAgICAgICAgICAgIC4uLmV4aXN0aW5nUHJlZml4RmllbGQgfHwge30sXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IHByZWZpeCA/IHBhdGgucG9zaXguam9pbihwcmVmaXgpIDogJydcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBmaWVsZHM7XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRGaWVsZHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/fields/getFields.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/hooks/afterChange.js":
/*!*****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/hooks/afterChange.js ***!
  \*****************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAfterChangeHook: () => (/* binding */ getAfterChangeHook)\n/* harmony export */ });\n/* harmony import */ var _utilities_getIncomingFiles_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/getIncomingFiles.js */ \"(rsc)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/utilities/getIncomingFiles.js\");\n\nconst getAfterChangeHook = ({ adapter, collection })=>async ({ doc, operation, previousDoc, req })=>{\n        // Skip if this is an internal update to prevent infinite loop\n        if (req.context?.skipCloudStorage) {\n            return doc;\n        }\n        try {\n            const files = (0,_utilities_getIncomingFiles_js__WEBPACK_IMPORTED_MODULE_0__.getIncomingFiles)({\n                data: doc,\n                req\n            });\n            if (files.length > 0) {\n                // If there is a previous doc, files and the operation is update,\n                // delete the old files before uploading the new ones.\n                if (previousDoc && operation === 'update') {\n                    let filesToDelete = [];\n                    if (typeof previousDoc?.filename === 'string') {\n                        filesToDelete.push(previousDoc.filename);\n                    }\n                    if (typeof previousDoc.sizes === 'object') {\n                        filesToDelete = filesToDelete.concat(Object.values(previousDoc?.sizes || []).map((resizedFileData)=>resizedFileData?.filename));\n                    }\n                    const deletionPromises = filesToDelete.map(async (filename)=>{\n                        if (filename) {\n                            await adapter.handleDelete({\n                                collection,\n                                doc: previousDoc,\n                                filename,\n                                req\n                            });\n                        }\n                    });\n                    await Promise.all(deletionPromises);\n                }\n                const uploadResults = await Promise.all(files.map((file)=>adapter.handleUpload({\n                        clientUploadContext: file.clientUploadContext,\n                        collection,\n                        data: doc,\n                        file,\n                        req\n                    })));\n                const uploadMetadata = uploadResults.filter((result)=>result != null && typeof result === 'object').reduce((acc, metadata)=>({\n                        ...acc,\n                        ...metadata\n                    }), {});\n                if (Object.keys(uploadMetadata).length > 0) {\n                    try {\n                        if (!req.context) {\n                            req.context = {};\n                        }\n                        req.context.skipCloudStorage = true;\n                        await req.payload.update({\n                            id: doc.id,\n                            collection: collection.slug,\n                            data: uploadMetadata,\n                            depth: 0,\n                            req\n                        });\n                        delete req.context.skipCloudStorage;\n                        return {\n                            ...doc,\n                            ...uploadMetadata\n                        };\n                    } catch (updateError) {\n                        req.payload.logger.warn(`Failed to persist upload data for collection ${collection.slug} document ${doc.id}: ${String(updateError)}`);\n                    }\n                }\n            }\n        } catch (err) {\n            req.payload.logger.error(`There was an error while uploading files corresponding to the collection ${collection.slug} with filename ${doc.filename}:`);\n            req.payload.logger.error({\n                err\n            });\n            throw err;\n        }\n        return doc;\n    };\n\n//# sourceMappingURL=afterChange.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrcGx1Z2luLWNsb3VkLXN0XzRiOWY0Y2QwYjM5Y2JmMzMwMzg2YWU0YmZlZWJkNTI5L25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9wbHVnaW4tY2xvdWQtc3RvcmFnZS9kaXN0L2hvb2tzL2FmdGVyQ2hhbmdlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQW9FO0FBQzdELDhCQUE4QixxQkFBcUIsWUFBWSxrQ0FBa0M7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixnRkFBZ0I7QUFDMUM7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsS0FBSztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QixnR0FBZ0csaUJBQWlCLFdBQVcsT0FBTyxJQUFJLG9CQUFvQjtBQUMzSjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsaUhBQWlILGlCQUFpQixnQkFBZ0IsYUFBYTtBQUMvSjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJDOlxccHJvamVjdHNcXGF1dGhcXG5vZGVfbW9kdWxlc1xcLnBucG1cXEBwYXlsb2FkY21zK3BsdWdpbi1jbG91ZC1zdF80YjlmNGNkMGIzOWNiZjMzMDM4NmFlNGJmZWViZDUyOVxcbm9kZV9tb2R1bGVzXFxAcGF5bG9hZGNtc1xccGx1Z2luLWNsb3VkLXN0b3JhZ2VcXGRpc3RcXGhvb2tzXFxhZnRlckNoYW5nZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRJbmNvbWluZ0ZpbGVzIH0gZnJvbSAnLi4vdXRpbGl0aWVzL2dldEluY29taW5nRmlsZXMuanMnO1xuZXhwb3J0IGNvbnN0IGdldEFmdGVyQ2hhbmdlSG9vayA9ICh7IGFkYXB0ZXIsIGNvbGxlY3Rpb24gfSk9PmFzeW5jICh7IGRvYywgb3BlcmF0aW9uLCBwcmV2aW91c0RvYywgcmVxIH0pPT57XG4gICAgICAgIC8vIFNraXAgaWYgdGhpcyBpcyBhbiBpbnRlcm5hbCB1cGRhdGUgdG8gcHJldmVudCBpbmZpbml0ZSBsb29wXG4gICAgICAgIGlmIChyZXEuY29udGV4dD8uc2tpcENsb3VkU3RvcmFnZSkge1xuICAgICAgICAgICAgcmV0dXJuIGRvYztcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZmlsZXMgPSBnZXRJbmNvbWluZ0ZpbGVzKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBkb2MsXG4gICAgICAgICAgICAgICAgcmVxXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBwcmV2aW91cyBkb2MsIGZpbGVzIGFuZCB0aGUgb3BlcmF0aW9uIGlzIHVwZGF0ZSxcbiAgICAgICAgICAgICAgICAvLyBkZWxldGUgdGhlIG9sZCBmaWxlcyBiZWZvcmUgdXBsb2FkaW5nIHRoZSBuZXcgb25lcy5cbiAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNEb2MgJiYgb3BlcmF0aW9uID09PSAndXBkYXRlJykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZXNUb0RlbGV0ZSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByZXZpb3VzRG9jPy5maWxlbmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVzVG9EZWxldGUucHVzaChwcmV2aW91c0RvYy5maWxlbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcmV2aW91c0RvYy5zaXplcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVzVG9EZWxldGUgPSBmaWxlc1RvRGVsZXRlLmNvbmNhdChPYmplY3QudmFsdWVzKHByZXZpb3VzRG9jPy5zaXplcyB8fCBbXSkubWFwKChyZXNpemVkRmlsZURhdGEpPT5yZXNpemVkRmlsZURhdGE/LmZpbGVuYW1lKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVsZXRpb25Qcm9taXNlcyA9IGZpbGVzVG9EZWxldGUubWFwKGFzeW5jIChmaWxlbmFtZSk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGFkYXB0ZXIuaGFuZGxlRGVsZXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jOiBwcmV2aW91c0RvYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoZGVsZXRpb25Qcm9taXNlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHVwbG9hZFJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChmaWxlcy5tYXAoKGZpbGUpPT5hZGFwdGVyLmhhbmRsZVVwbG9hZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRVcGxvYWRDb250ZXh0OiBmaWxlLmNsaWVudFVwbG9hZENvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZG9jLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcVxuICAgICAgICAgICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwbG9hZE1ldGFkYXRhID0gdXBsb2FkUmVzdWx0cy5maWx0ZXIoKHJlc3VsdCk9PnJlc3VsdCAhPSBudWxsICYmIHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnKS5yZWR1Y2UoKGFjYywgbWV0YWRhdGEpPT4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uYWNjLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubWV0YWRhdGFcbiAgICAgICAgICAgICAgICAgICAgfSksIHt9KTtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXModXBsb2FkTWV0YWRhdGEpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVxLmNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEuY29udGV4dCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLmNvbnRleHQuc2tpcENsb3VkU3RvcmFnZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCByZXEucGF5bG9hZC51cGRhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbjogY29sbGVjdGlvbi5zbHVnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHVwbG9hZE1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcHRoOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVxLmNvbnRleHQuc2tpcENsb3VkU3RvcmFnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZG9jLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnVwbG9hZE1ldGFkYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoICh1cGRhdGVFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLnBheWxvYWQubG9nZ2VyLndhcm4oYEZhaWxlZCB0byBwZXJzaXN0IHVwbG9hZCBkYXRhIGZvciBjb2xsZWN0aW9uICR7Y29sbGVjdGlvbi5zbHVnfSBkb2N1bWVudCAke2RvYy5pZH06ICR7U3RyaW5nKHVwZGF0ZUVycm9yKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXEucGF5bG9hZC5sb2dnZXIuZXJyb3IoYFRoZXJlIHdhcyBhbiBlcnJvciB3aGlsZSB1cGxvYWRpbmcgZmlsZXMgY29ycmVzcG9uZGluZyB0byB0aGUgY29sbGVjdGlvbiAke2NvbGxlY3Rpb24uc2x1Z30gd2l0aCBmaWxlbmFtZSAke2RvYy5maWxlbmFtZX06YCk7XG4gICAgICAgICAgICByZXEucGF5bG9hZC5sb2dnZXIuZXJyb3Ioe1xuICAgICAgICAgICAgICAgIGVyclxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRvYztcbiAgICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hZnRlckNoYW5nZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/hooks/afterChange.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/hooks/afterDelete.js":
/*!*****************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/hooks/afterDelete.js ***!
  \*****************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAfterDeleteHook: () => (/* binding */ getAfterDeleteHook)\n/* harmony export */ });\nconst getAfterDeleteHook = ({ adapter, collection })=>{\n    return async ({ doc, req })=>{\n        try {\n            const filesToDelete = [\n                doc.filename,\n                ...Object.values(doc?.sizes || []).map((resizedFileData)=>resizedFileData?.filename)\n            ];\n            const promises = filesToDelete.map(async (filename)=>{\n                if (filename) {\n                    await adapter.handleDelete({\n                        collection,\n                        doc,\n                        filename,\n                        req\n                    });\n                }\n            });\n            await Promise.all(promises);\n        } catch (err) {\n            req.payload.logger.error({\n                err,\n                msg: `There was an error while deleting files corresponding to the ${collection.labels?.singular} with ID ${doc.id}.`\n            });\n        }\n        return doc;\n    };\n};\n\n//# sourceMappingURL=afterDelete.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrcGx1Z2luLWNsb3VkLXN0XzRiOWY0Y2QwYjM5Y2JmMzMwMzg2YWU0YmZlZWJkNTI5L25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9wbHVnaW4tY2xvdWQtc3RvcmFnZS9kaXN0L2hvb2tzL2FmdGVyRGVsZXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyw4QkFBOEIscUJBQXFCO0FBQzFELG9CQUFvQixVQUFVO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EscUZBQXFGLDZCQUE2QixVQUFVLE9BQU87QUFDbkksYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJDOlxccHJvamVjdHNcXGF1dGhcXG5vZGVfbW9kdWxlc1xcLnBucG1cXEBwYXlsb2FkY21zK3BsdWdpbi1jbG91ZC1zdF80YjlmNGNkMGIzOWNiZjMzMDM4NmFlNGJmZWViZDUyOVxcbm9kZV9tb2R1bGVzXFxAcGF5bG9hZGNtc1xccGx1Z2luLWNsb3VkLXN0b3JhZ2VcXGRpc3RcXGhvb2tzXFxhZnRlckRlbGV0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZ2V0QWZ0ZXJEZWxldGVIb29rID0gKHsgYWRhcHRlciwgY29sbGVjdGlvbiB9KT0+e1xuICAgIHJldHVybiBhc3luYyAoeyBkb2MsIHJlcSB9KT0+e1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZmlsZXNUb0RlbGV0ZSA9IFtcbiAgICAgICAgICAgICAgICBkb2MuZmlsZW5hbWUsXG4gICAgICAgICAgICAgICAgLi4uT2JqZWN0LnZhbHVlcyhkb2M/LnNpemVzIHx8IFtdKS5tYXAoKHJlc2l6ZWRGaWxlRGF0YSk9PnJlc2l6ZWRGaWxlRGF0YT8uZmlsZW5hbWUpXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBmaWxlc1RvRGVsZXRlLm1hcChhc3luYyAoZmlsZW5hbWUpPT57XG4gICAgICAgICAgICAgICAgaWYgKGZpbGVuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGFkYXB0ZXIuaGFuZGxlRGVsZXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXEucGF5bG9hZC5sb2dnZXIuZXJyb3Ioe1xuICAgICAgICAgICAgICAgIGVycixcbiAgICAgICAgICAgICAgICBtc2c6IGBUaGVyZSB3YXMgYW4gZXJyb3Igd2hpbGUgZGVsZXRpbmcgZmlsZXMgY29ycmVzcG9uZGluZyB0byB0aGUgJHtjb2xsZWN0aW9uLmxhYmVscz8uc2luZ3VsYXJ9IHdpdGggSUQgJHtkb2MuaWR9LmBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb2M7XG4gICAgfTtcbn07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFmdGVyRGVsZXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/hooks/afterDelete.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/hooks/afterRead.js":
/*!***************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/hooks/afterRead.js ***!
  \***************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAfterReadHook: () => (/* binding */ getAfterReadHook)\n/* harmony export */ });\nconst getAfterReadHook = ({ adapter, collection, disablePayloadAccessControl, generateFileURL, size })=>async ({ data, value })=>{\n        const filename = size ? data?.sizes?.[size.name]?.filename : data?.filename;\n        const prefix = data?.prefix;\n        let url = value;\n        if (disablePayloadAccessControl && filename) {\n            if (generateFileURL) {\n                url = await generateFileURL({\n                    collection,\n                    filename,\n                    prefix,\n                    size\n                });\n            } else if (adapter.generateURL) {\n                url = await adapter.generateURL({\n                    collection,\n                    data,\n                    filename,\n                    prefix\n                });\n            }\n        }\n        return url;\n    };\n\n//# sourceMappingURL=afterRead.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrcGx1Z2luLWNsb3VkLXN0XzRiOWY0Y2QwYjM5Y2JmMzMwMzg2YWU0YmZlZWJkNTI5L25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9wbHVnaW4tY2xvdWQtc3RvcmFnZS9kaXN0L2hvb2tzL2FmdGVyUmVhZC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sNEJBQTRCLHlFQUF5RSxZQUFZLGFBQWE7QUFDckk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIkM6XFxwcm9qZWN0c1xcYXV0aFxcbm9kZV9tb2R1bGVzXFwucG5wbVxcQHBheWxvYWRjbXMrcGx1Z2luLWNsb3VkLXN0XzRiOWY0Y2QwYjM5Y2JmMzMwMzg2YWU0YmZlZWJkNTI5XFxub2RlX21vZHVsZXNcXEBwYXlsb2FkY21zXFxwbHVnaW4tY2xvdWQtc3RvcmFnZVxcZGlzdFxcaG9va3NcXGFmdGVyUmVhZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZ2V0QWZ0ZXJSZWFkSG9vayA9ICh7IGFkYXB0ZXIsIGNvbGxlY3Rpb24sIGRpc2FibGVQYXlsb2FkQWNjZXNzQ29udHJvbCwgZ2VuZXJhdGVGaWxlVVJMLCBzaXplIH0pPT5hc3luYyAoeyBkYXRhLCB2YWx1ZSB9KT0+e1xuICAgICAgICBjb25zdCBmaWxlbmFtZSA9IHNpemUgPyBkYXRhPy5zaXplcz8uW3NpemUubmFtZV0/LmZpbGVuYW1lIDogZGF0YT8uZmlsZW5hbWU7XG4gICAgICAgIGNvbnN0IHByZWZpeCA9IGRhdGE/LnByZWZpeDtcbiAgICAgICAgbGV0IHVybCA9IHZhbHVlO1xuICAgICAgICBpZiAoZGlzYWJsZVBheWxvYWRBY2Nlc3NDb250cm9sICYmIGZpbGVuYW1lKSB7XG4gICAgICAgICAgICBpZiAoZ2VuZXJhdGVGaWxlVVJMKSB7XG4gICAgICAgICAgICAgICAgdXJsID0gYXdhaXQgZ2VuZXJhdGVGaWxlVVJMKHtcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHByZWZpeCxcbiAgICAgICAgICAgICAgICAgICAgc2l6ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhZGFwdGVyLmdlbmVyYXRlVVJMKSB7XG4gICAgICAgICAgICAgICAgdXJsID0gYXdhaXQgYWRhcHRlci5nZW5lcmF0ZVVSTCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lLFxuICAgICAgICAgICAgICAgICAgICBwcmVmaXhcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFmdGVyUmVhZC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/hooks/afterRead.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/hooks/beforeChange.js":
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/hooks/beforeChange.js ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getBeforeChangeHook: () => (/* binding */ getBeforeChangeHook)\n/* harmony export */ });\nconst getBeforeChangeHook = ({ adapter, collection, disablePayloadAccessControl, generateFileURL, size })=>async ({ data, originalDoc, value })=>{\n        if (!disablePayloadAccessControl) {\n            return value;\n        } else {\n            const newFilename = size ? data?.sizes?.[size.name]?.filename : data?.filename;\n            const originalFilename = size ? originalDoc?.sizes?.[size.name]?.filename : originalDoc?.filename;\n            const filename = newFilename || originalFilename;\n            const prefix = data?.prefix;\n            let url = value;\n            // Store the full URL in the database so files can be accessed directly\n            // from the storage provider without going through Payload's API\n            if (generateFileURL) {\n                url = await generateFileURL({\n                    collection,\n                    filename,\n                    prefix,\n                    size\n                });\n            } else if (adapter.generateURL) {\n                url = await adapter.generateURL({\n                    collection,\n                    data: data || originalDoc,\n                    filename,\n                    prefix\n                });\n            }\n            return url;\n        }\n    };\n\n//# sourceMappingURL=beforeChange.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrcGx1Z2luLWNsb3VkLXN0XzRiOWY0Y2QwYjM5Y2JmMzMwMzg2YWU0YmZlZWJkNTI5L25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9wbHVnaW4tY2xvdWQtc3RvcmFnZS9kaXN0L2hvb2tzL2JlZm9yZUNoYW5nZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sK0JBQStCLHlFQUF5RSxZQUFZLDBCQUEwQjtBQUNySjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJDOlxccHJvamVjdHNcXGF1dGhcXG5vZGVfbW9kdWxlc1xcLnBucG1cXEBwYXlsb2FkY21zK3BsdWdpbi1jbG91ZC1zdF80YjlmNGNkMGIzOWNiZjMzMDM4NmFlNGJmZWViZDUyOVxcbm9kZV9tb2R1bGVzXFxAcGF5bG9hZGNtc1xccGx1Z2luLWNsb3VkLXN0b3JhZ2VcXGRpc3RcXGhvb2tzXFxiZWZvcmVDaGFuZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGdldEJlZm9yZUNoYW5nZUhvb2sgPSAoeyBhZGFwdGVyLCBjb2xsZWN0aW9uLCBkaXNhYmxlUGF5bG9hZEFjY2Vzc0NvbnRyb2wsIGdlbmVyYXRlRmlsZVVSTCwgc2l6ZSB9KT0+YXN5bmMgKHsgZGF0YSwgb3JpZ2luYWxEb2MsIHZhbHVlIH0pPT57XG4gICAgICAgIGlmICghZGlzYWJsZVBheWxvYWRBY2Nlc3NDb250cm9sKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBuZXdGaWxlbmFtZSA9IHNpemUgPyBkYXRhPy5zaXplcz8uW3NpemUubmFtZV0/LmZpbGVuYW1lIDogZGF0YT8uZmlsZW5hbWU7XG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbEZpbGVuYW1lID0gc2l6ZSA/IG9yaWdpbmFsRG9jPy5zaXplcz8uW3NpemUubmFtZV0/LmZpbGVuYW1lIDogb3JpZ2luYWxEb2M/LmZpbGVuYW1lO1xuICAgICAgICAgICAgY29uc3QgZmlsZW5hbWUgPSBuZXdGaWxlbmFtZSB8fCBvcmlnaW5hbEZpbGVuYW1lO1xuICAgICAgICAgICAgY29uc3QgcHJlZml4ID0gZGF0YT8ucHJlZml4O1xuICAgICAgICAgICAgbGV0IHVybCA9IHZhbHVlO1xuICAgICAgICAgICAgLy8gU3RvcmUgdGhlIGZ1bGwgVVJMIGluIHRoZSBkYXRhYmFzZSBzbyBmaWxlcyBjYW4gYmUgYWNjZXNzZWQgZGlyZWN0bHlcbiAgICAgICAgICAgIC8vIGZyb20gdGhlIHN0b3JhZ2UgcHJvdmlkZXIgd2l0aG91dCBnb2luZyB0aHJvdWdoIFBheWxvYWQncyBBUElcbiAgICAgICAgICAgIGlmIChnZW5lcmF0ZUZpbGVVUkwpIHtcbiAgICAgICAgICAgICAgICB1cmwgPSBhd2FpdCBnZW5lcmF0ZUZpbGVVUkwoe1xuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgcHJlZml4LFxuICAgICAgICAgICAgICAgICAgICBzaXplXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFkYXB0ZXIuZ2VuZXJhdGVVUkwpIHtcbiAgICAgICAgICAgICAgICB1cmwgPSBhd2FpdCBhZGFwdGVyLmdlbmVyYXRlVVJMKHtcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSB8fCBvcmlnaW5hbERvYyxcbiAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHByZWZpeFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVybDtcbiAgICAgICAgfVxuICAgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJlZm9yZUNoYW5nZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/hooks/beforeChange.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/plugin.js":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/plugin.js ***!
  \******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cloudStoragePlugin: () => (/* binding */ cloudStoragePlugin)\n/* harmony export */ });\n/* harmony import */ var _fields_getFields_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./fields/getFields.js */ \"(rsc)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/fields/getFields.js\");\n/* harmony import */ var _hooks_afterChange_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./hooks/afterChange.js */ \"(rsc)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/hooks/afterChange.js\");\n/* harmony import */ var _hooks_afterDelete_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./hooks/afterDelete.js */ \"(rsc)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/hooks/afterDelete.js\");\n\n\n\n// This plugin extends all targeted collections by offloading uploaded files\n// to cloud storage instead of solely storing files locally.\n// It is based on an adapter approach, where adapters can be written for any cloud provider.\n// Adapters are responsible for providing four actions that this plugin will use:\n// 1. handleUpload, 2. handleDelete, 3. generateURL, 4. staticHandler\n// Optionally, the adapter can specify any Webpack config overrides if they are necessary.\nconst cloudStoragePlugin = (pluginOptions)=>(incomingConfig)=>{\n        const { alwaysInsertFields, collections: allCollectionOptions, enabled } = pluginOptions;\n        const config = {\n            ...incomingConfig\n        };\n        // If disabled but alwaysInsertFields is true, only insert fields without full plugin functionality\n        if (enabled === false) {\n            if (alwaysInsertFields) {\n                return {\n                    ...config,\n                    collections: (config.collections || []).map((existingCollection)=>{\n                        const options = allCollectionOptions[existingCollection.slug];\n                        if (options) {\n                            // If adapter is provided, use it to get fields\n                            const adapter = options.adapter ? options.adapter({\n                                collection: existingCollection,\n                                prefix: options.prefix\n                            }) : undefined;\n                            const fields = (0,_fields_getFields_js__WEBPACK_IMPORTED_MODULE_0__.getFields)({\n                                adapter,\n                                alwaysInsertFields: true,\n                                collection: existingCollection,\n                                disablePayloadAccessControl: options.disablePayloadAccessControl,\n                                generateFileURL: options.generateFileURL,\n                                prefix: options.prefix\n                            });\n                            return {\n                                ...existingCollection,\n                                fields\n                            };\n                        }\n                        return existingCollection;\n                    })\n                };\n            }\n            return config;\n        }\n        const initFunctions = [];\n        return {\n            ...config,\n            collections: (config.collections || []).map((existingCollection)=>{\n                const options = allCollectionOptions[existingCollection.slug];\n                if (options?.adapter) {\n                    const adapter = options.adapter({\n                        collection: existingCollection,\n                        prefix: options.prefix\n                    });\n                    if (adapter.onInit) {\n                        initFunctions.push(adapter.onInit);\n                    }\n                    const fields = (0,_fields_getFields_js__WEBPACK_IMPORTED_MODULE_0__.getFields)({\n                        adapter,\n                        collection: existingCollection,\n                        disablePayloadAccessControl: options.disablePayloadAccessControl,\n                        generateFileURL: options.generateFileURL,\n                        prefix: options.prefix\n                    });\n                    const handlers = [\n                        ...typeof existingCollection.upload === 'object' && Array.isArray(existingCollection.upload.handlers) ? existingCollection.upload.handlers : []\n                    ];\n                    if (!options.disablePayloadAccessControl) {\n                        handlers.push(adapter.staticHandler);\n                    // Else if disablePayloadAccessControl: true and clientUploads is used\n                    // Build the \"proxied\" handler that responses only when the file was requested by client upload in addDataAndFileToRequest\n                    } else if (adapter.clientUploads) {\n                        handlers.push((req, args)=>{\n                            if ('clientUploadContext' in args.params) {\n                                return adapter.staticHandler(req, args);\n                            }\n                        });\n                    }\n                    const getSkipSafeFetchSetting = ()=>{\n                        if (options.disablePayloadAccessControl) {\n                            return true;\n                        }\n                        const isBooleanTrueSkipSafeFetch = typeof existingCollection.upload === 'object' && existingCollection.upload.skipSafeFetch === true;\n                        const isAllowListSkipSafeFetch = typeof existingCollection.upload === 'object' && Array.isArray(existingCollection.upload.skipSafeFetch);\n                        if (isBooleanTrueSkipSafeFetch) {\n                            return true;\n                        } else if (isAllowListSkipSafeFetch) {\n                            const existingSkipSafeFetch = typeof existingCollection.upload === 'object' && Array.isArray(existingCollection.upload.skipSafeFetch) ? existingCollection.upload.skipSafeFetch : [];\n                            const hasExactLocalhostMatch = existingSkipSafeFetch.some((entry)=>{\n                                const entryKeys = Object.keys(entry);\n                                return entryKeys.length === 1 && entry.hostname === 'localhost';\n                            });\n                            const localhostEntry =  true && !hasExactLocalhostMatch ? [\n                                {\n                                    hostname: 'localhost'\n                                }\n                            ] : [];\n                            return [\n                                ...existingSkipSafeFetch,\n                                ...localhostEntry\n                            ];\n                        }\n                        if (true) {\n                            return [\n                                {\n                                    hostname: 'localhost'\n                                }\n                            ];\n                        }\n                        return false;\n                    };\n                    return {\n                        ...existingCollection,\n                        fields,\n                        hooks: {\n                            ...existingCollection.hooks || {},\n                            afterChange: [\n                                ...existingCollection.hooks?.afterChange || [],\n                                (0,_hooks_afterChange_js__WEBPACK_IMPORTED_MODULE_1__.getAfterChangeHook)({\n                                    adapter,\n                                    collection: existingCollection\n                                })\n                            ],\n                            afterDelete: [\n                                ...existingCollection.hooks?.afterDelete || [],\n                                (0,_hooks_afterDelete_js__WEBPACK_IMPORTED_MODULE_2__.getAfterDeleteHook)({\n                                    adapter,\n                                    collection: existingCollection\n                                })\n                            ]\n                        },\n                        upload: {\n                            ...typeof existingCollection.upload === 'object' ? existingCollection.upload : {},\n                            adapter: adapter.name,\n                            disableLocalStorage: typeof options.disableLocalStorage === 'boolean' ? options.disableLocalStorage : true,\n                            handlers,\n                            skipSafeFetch: getSkipSafeFetchSetting()\n                        }\n                    };\n                }\n                return existingCollection;\n            }),\n            onInit: async (payload)=>{\n                initFunctions.forEach((fn)=>fn());\n                if (config.onInit) {\n                    await config.onInit(payload);\n                }\n            }\n        };\n    };\n\n//# sourceMappingURL=plugin.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrcGx1Z2luLWNsb3VkLXN0XzRiOWY0Y2QwYjM5Y2JmMzMwMzg2YWU0YmZlZWJkNTI5L25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9wbHVnaW4tY2xvdWQtc3RvcmFnZS9kaXN0L3BsdWdpbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWtEO0FBQ1U7QUFDQTtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGdCQUFnQixpRUFBaUU7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLDJDQUEyQywrREFBUztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQywrREFBUztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QixtREFBbUQsS0FBcUM7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLElBQXFDO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0EsZ0NBQWdDLHlFQUFrQjtBQUNsRDtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx5RUFBa0I7QUFDbEQ7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLDZHQUE2RztBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIkM6XFxwcm9qZWN0c1xcYXV0aFxcbm9kZV9tb2R1bGVzXFwucG5wbVxcQHBheWxvYWRjbXMrcGx1Z2luLWNsb3VkLXN0XzRiOWY0Y2QwYjM5Y2JmMzMwMzg2YWU0YmZlZWJkNTI5XFxub2RlX21vZHVsZXNcXEBwYXlsb2FkY21zXFxwbHVnaW4tY2xvdWQtc3RvcmFnZVxcZGlzdFxccGx1Z2luLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldEZpZWxkcyB9IGZyb20gJy4vZmllbGRzL2dldEZpZWxkcy5qcyc7XG5pbXBvcnQgeyBnZXRBZnRlckNoYW5nZUhvb2sgfSBmcm9tICcuL2hvb2tzL2FmdGVyQ2hhbmdlLmpzJztcbmltcG9ydCB7IGdldEFmdGVyRGVsZXRlSG9vayB9IGZyb20gJy4vaG9va3MvYWZ0ZXJEZWxldGUuanMnO1xuLy8gVGhpcyBwbHVnaW4gZXh0ZW5kcyBhbGwgdGFyZ2V0ZWQgY29sbGVjdGlvbnMgYnkgb2ZmbG9hZGluZyB1cGxvYWRlZCBmaWxlc1xuLy8gdG8gY2xvdWQgc3RvcmFnZSBpbnN0ZWFkIG9mIHNvbGVseSBzdG9yaW5nIGZpbGVzIGxvY2FsbHkuXG4vLyBJdCBpcyBiYXNlZCBvbiBhbiBhZGFwdGVyIGFwcHJvYWNoLCB3aGVyZSBhZGFwdGVycyBjYW4gYmUgd3JpdHRlbiBmb3IgYW55IGNsb3VkIHByb3ZpZGVyLlxuLy8gQWRhcHRlcnMgYXJlIHJlc3BvbnNpYmxlIGZvciBwcm92aWRpbmcgZm91ciBhY3Rpb25zIHRoYXQgdGhpcyBwbHVnaW4gd2lsbCB1c2U6XG4vLyAxLiBoYW5kbGVVcGxvYWQsIDIuIGhhbmRsZURlbGV0ZSwgMy4gZ2VuZXJhdGVVUkwsIDQuIHN0YXRpY0hhbmRsZXJcbi8vIE9wdGlvbmFsbHksIHRoZSBhZGFwdGVyIGNhbiBzcGVjaWZ5IGFueSBXZWJwYWNrIGNvbmZpZyBvdmVycmlkZXMgaWYgdGhleSBhcmUgbmVjZXNzYXJ5LlxuZXhwb3J0IGNvbnN0IGNsb3VkU3RvcmFnZVBsdWdpbiA9IChwbHVnaW5PcHRpb25zKT0+KGluY29taW5nQ29uZmlnKT0+e1xuICAgICAgICBjb25zdCB7IGFsd2F5c0luc2VydEZpZWxkcywgY29sbGVjdGlvbnM6IGFsbENvbGxlY3Rpb25PcHRpb25zLCBlbmFibGVkIH0gPSBwbHVnaW5PcHRpb25zO1xuICAgICAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICAgICAgICAuLi5pbmNvbWluZ0NvbmZpZ1xuICAgICAgICB9O1xuICAgICAgICAvLyBJZiBkaXNhYmxlZCBidXQgYWx3YXlzSW5zZXJ0RmllbGRzIGlzIHRydWUsIG9ubHkgaW5zZXJ0IGZpZWxkcyB3aXRob3V0IGZ1bGwgcGx1Z2luIGZ1bmN0aW9uYWxpdHlcbiAgICAgICAgaWYgKGVuYWJsZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAoYWx3YXlzSW5zZXJ0RmllbGRzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY29uZmlnLFxuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uczogKGNvbmZpZy5jb2xsZWN0aW9ucyB8fCBbXSkubWFwKChleGlzdGluZ0NvbGxlY3Rpb24pPT57XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0gYWxsQ29sbGVjdGlvbk9wdGlvbnNbZXhpc3RpbmdDb2xsZWN0aW9uLnNsdWddO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBhZGFwdGVyIGlzIHByb3ZpZGVkLCB1c2UgaXQgdG8gZ2V0IGZpZWxkc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkYXB0ZXIgPSBvcHRpb25zLmFkYXB0ZXIgPyBvcHRpb25zLmFkYXB0ZXIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uOiBleGlzdGluZ0NvbGxlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZWZpeDogb3B0aW9ucy5wcmVmaXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWVsZHMgPSBnZXRGaWVsZHMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGFwdGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHdheXNJbnNlcnRGaWVsZHM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb246IGV4aXN0aW5nQ29sbGVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZVBheWxvYWRBY2Nlc3NDb250cm9sOiBvcHRpb25zLmRpc2FibGVQYXlsb2FkQWNjZXNzQ29udHJvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVGaWxlVVJMOiBvcHRpb25zLmdlbmVyYXRlRmlsZVVSTCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlZml4OiBvcHRpb25zLnByZWZpeFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmV4aXN0aW5nQ29sbGVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBleGlzdGluZ0NvbGxlY3Rpb247XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5pdEZ1bmN0aW9ucyA9IFtdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uY29uZmlnLFxuICAgICAgICAgICAgY29sbGVjdGlvbnM6IChjb25maWcuY29sbGVjdGlvbnMgfHwgW10pLm1hcCgoZXhpc3RpbmdDb2xsZWN0aW9uKT0+e1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBhbGxDb2xsZWN0aW9uT3B0aW9uc1tleGlzdGluZ0NvbGxlY3Rpb24uc2x1Z107XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnM/LmFkYXB0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRhcHRlciA9IG9wdGlvbnMuYWRhcHRlcih7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uOiBleGlzdGluZ0NvbGxlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVmaXg6IG9wdGlvbnMucHJlZml4XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWRhcHRlci5vbkluaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRGdW5jdGlvbnMucHVzaChhZGFwdGVyLm9uSW5pdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmllbGRzID0gZ2V0RmllbGRzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkYXB0ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uOiBleGlzdGluZ0NvbGxlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlUGF5bG9hZEFjY2Vzc0NvbnRyb2w6IG9wdGlvbnMuZGlzYWJsZVBheWxvYWRBY2Nlc3NDb250cm9sLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVGaWxlVVJMOiBvcHRpb25zLmdlbmVyYXRlRmlsZVVSTCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZWZpeDogb3B0aW9ucy5wcmVmaXhcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZXJzID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4udHlwZW9mIGV4aXN0aW5nQ29sbGVjdGlvbi51cGxvYWQgPT09ICdvYmplY3QnICYmIEFycmF5LmlzQXJyYXkoZXhpc3RpbmdDb2xsZWN0aW9uLnVwbG9hZC5oYW5kbGVycykgPyBleGlzdGluZ0NvbGxlY3Rpb24udXBsb2FkLmhhbmRsZXJzIDogW11cbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLmRpc2FibGVQYXlsb2FkQWNjZXNzQ29udHJvbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcnMucHVzaChhZGFwdGVyLnN0YXRpY0hhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBFbHNlIGlmIGRpc2FibGVQYXlsb2FkQWNjZXNzQ29udHJvbDogdHJ1ZSBhbmQgY2xpZW50VXBsb2FkcyBpcyB1c2VkXG4gICAgICAgICAgICAgICAgICAgIC8vIEJ1aWxkIHRoZSBcInByb3hpZWRcIiBoYW5kbGVyIHRoYXQgcmVzcG9uc2VzIG9ubHkgd2hlbiB0aGUgZmlsZSB3YXMgcmVxdWVzdGVkIGJ5IGNsaWVudCB1cGxvYWQgaW4gYWRkRGF0YUFuZEZpbGVUb1JlcXVlc3RcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhZGFwdGVyLmNsaWVudFVwbG9hZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXJzLnB1c2goKHJlcSwgYXJncyk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJ2NsaWVudFVwbG9hZENvbnRleHQnIGluIGFyZ3MucGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhZGFwdGVyLnN0YXRpY0hhbmRsZXIocmVxLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBnZXRTa2lwU2FmZUZldGNoU2V0dGluZyA9ICgpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kaXNhYmxlUGF5bG9hZEFjY2Vzc0NvbnRyb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQm9vbGVhblRydWVTa2lwU2FmZUZldGNoID0gdHlwZW9mIGV4aXN0aW5nQ29sbGVjdGlvbi51cGxvYWQgPT09ICdvYmplY3QnICYmIGV4aXN0aW5nQ29sbGVjdGlvbi51cGxvYWQuc2tpcFNhZmVGZXRjaCA9PT0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQWxsb3dMaXN0U2tpcFNhZmVGZXRjaCA9IHR5cGVvZiBleGlzdGluZ0NvbGxlY3Rpb24udXBsb2FkID09PSAnb2JqZWN0JyAmJiBBcnJheS5pc0FycmF5KGV4aXN0aW5nQ29sbGVjdGlvbi51cGxvYWQuc2tpcFNhZmVGZXRjaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNCb29sZWFuVHJ1ZVNraXBTYWZlRmV0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBbGxvd0xpc3RTa2lwU2FmZUZldGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdTa2lwU2FmZUZldGNoID0gdHlwZW9mIGV4aXN0aW5nQ29sbGVjdGlvbi51cGxvYWQgPT09ICdvYmplY3QnICYmIEFycmF5LmlzQXJyYXkoZXhpc3RpbmdDb2xsZWN0aW9uLnVwbG9hZC5za2lwU2FmZUZldGNoKSA/IGV4aXN0aW5nQ29sbGVjdGlvbi51cGxvYWQuc2tpcFNhZmVGZXRjaCA6IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc0V4YWN0TG9jYWxob3N0TWF0Y2ggPSBleGlzdGluZ1NraXBTYWZlRmV0Y2guc29tZSgoZW50cnkpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudHJ5S2V5cyA9IE9iamVjdC5rZXlzKGVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5S2V5cy5sZW5ndGggPT09IDEgJiYgZW50cnkuaG9zdG5hbWUgPT09ICdsb2NhbGhvc3QnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsaG9zdEVudHJ5ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAhaGFzRXhhY3RMb2NhbGhvc3RNYXRjaCA/IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9zdG5hbWU6ICdsb2NhbGhvc3QnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdIDogW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZXhpc3RpbmdTa2lwU2FmZUZldGNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5sb2NhbGhvc3RFbnRyeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RuYW1lOiAnbG9jYWxob3N0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmV4aXN0aW5nQ29sbGVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvb2tzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZXhpc3RpbmdDb2xsZWN0aW9uLmhvb2tzIHx8IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyQ2hhbmdlOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmV4aXN0aW5nQ29sbGVjdGlvbi5ob29rcz8uYWZ0ZXJDaGFuZ2UgfHwgW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldEFmdGVyQ2hhbmdlSG9vayh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGFwdGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbjogZXhpc3RpbmdDb2xsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZnRlckRlbGV0ZTogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5leGlzdGluZ0NvbGxlY3Rpb24uaG9va3M/LmFmdGVyRGVsZXRlIHx8IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRBZnRlckRlbGV0ZUhvb2soe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRhcHRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb246IGV4aXN0aW5nQ29sbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50eXBlb2YgZXhpc3RpbmdDb2xsZWN0aW9uLnVwbG9hZCA9PT0gJ29iamVjdCcgPyBleGlzdGluZ0NvbGxlY3Rpb24udXBsb2FkIDoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRhcHRlcjogYWRhcHRlci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVMb2NhbFN0b3JhZ2U6IHR5cGVvZiBvcHRpb25zLmRpc2FibGVMb2NhbFN0b3JhZ2UgPT09ICdib29sZWFuJyA/IG9wdGlvbnMuZGlzYWJsZUxvY2FsU3RvcmFnZSA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpcFNhZmVGZXRjaDogZ2V0U2tpcFNhZmVGZXRjaFNldHRpbmcoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZXhpc3RpbmdDb2xsZWN0aW9uO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBvbkluaXQ6IGFzeW5jIChwYXlsb2FkKT0+e1xuICAgICAgICAgICAgICAgIGluaXRGdW5jdGlvbnMuZm9yRWFjaCgoZm4pPT5mbigpKTtcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLm9uSW5pdCkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjb25maWcub25Jbml0KHBheWxvYWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wbHVnaW4uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/plugin.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/utilities/getFilePrefix.js":
/*!***********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/utilities/getFilePrefix.js ***!
  \***********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getFilePrefix: () => (/* binding */ getFilePrefix)\n/* harmony export */ });\nasync function getFilePrefix({ clientUploadContext, collection, filename, req }) {\n    // Prioritize from clientUploadContext if there is:\n    if (clientUploadContext && typeof clientUploadContext === 'object' && 'prefix' in clientUploadContext && typeof clientUploadContext.prefix === 'string') {\n        return clientUploadContext.prefix;\n    }\n    const imageSizes = collection?.upload?.imageSizes || [];\n    const files = await req.payload.find({\n        collection: collection.slug,\n        depth: 0,\n        draft: true,\n        limit: 1,\n        pagination: false,\n        where: {\n            or: [\n                {\n                    filename: {\n                        equals: filename\n                    }\n                },\n                ...imageSizes.map((imageSize)=>({\n                        [`sizes.${imageSize.name}.filename`]: {\n                            equals: filename\n                        }\n                    }))\n            ]\n        }\n    });\n    const prefix = files?.docs?.[0]?.prefix;\n    return prefix ? prefix : '';\n}\n\n//# sourceMappingURL=getFilePrefix.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrcGx1Z2luLWNsb3VkLXN0XzRiOWY0Y2QwYjM5Y2JmMzMwMzg2YWU0YmZlZWJkNTI5L25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9wbHVnaW4tY2xvdWQtc3RvcmFnZS9kaXN0L3V0aWxpdGllcy9nZXRGaWxlUHJlZml4LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTywrQkFBK0IsZ0RBQWdEO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxrQ0FBa0MsZUFBZTtBQUNqRDtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJDOlxccHJvamVjdHNcXGF1dGhcXG5vZGVfbW9kdWxlc1xcLnBucG1cXEBwYXlsb2FkY21zK3BsdWdpbi1jbG91ZC1zdF80YjlmNGNkMGIzOWNiZjMzMDM4NmFlNGJmZWViZDUyOVxcbm9kZV9tb2R1bGVzXFxAcGF5bG9hZGNtc1xccGx1Z2luLWNsb3VkLXN0b3JhZ2VcXGRpc3RcXHV0aWxpdGllc1xcZ2V0RmlsZVByZWZpeC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RmlsZVByZWZpeCh7IGNsaWVudFVwbG9hZENvbnRleHQsIGNvbGxlY3Rpb24sIGZpbGVuYW1lLCByZXEgfSkge1xuICAgIC8vIFByaW9yaXRpemUgZnJvbSBjbGllbnRVcGxvYWRDb250ZXh0IGlmIHRoZXJlIGlzOlxuICAgIGlmIChjbGllbnRVcGxvYWRDb250ZXh0ICYmIHR5cGVvZiBjbGllbnRVcGxvYWRDb250ZXh0ID09PSAnb2JqZWN0JyAmJiAncHJlZml4JyBpbiBjbGllbnRVcGxvYWRDb250ZXh0ICYmIHR5cGVvZiBjbGllbnRVcGxvYWRDb250ZXh0LnByZWZpeCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGNsaWVudFVwbG9hZENvbnRleHQucHJlZml4O1xuICAgIH1cbiAgICBjb25zdCBpbWFnZVNpemVzID0gY29sbGVjdGlvbj8udXBsb2FkPy5pbWFnZVNpemVzIHx8IFtdO1xuICAgIGNvbnN0IGZpbGVzID0gYXdhaXQgcmVxLnBheWxvYWQuZmluZCh7XG4gICAgICAgIGNvbGxlY3Rpb246IGNvbGxlY3Rpb24uc2x1ZyxcbiAgICAgICAgZGVwdGg6IDAsXG4gICAgICAgIGRyYWZ0OiB0cnVlLFxuICAgICAgICBsaW1pdDogMSxcbiAgICAgICAgcGFnaW5hdGlvbjogZmFsc2UsXG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICBvcjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVxdWFsczogZmlsZW5hbWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLi4uaW1hZ2VTaXplcy5tYXAoKGltYWdlU2l6ZSk9Pih7XG4gICAgICAgICAgICAgICAgICAgICAgICBbYHNpemVzLiR7aW1hZ2VTaXplLm5hbWV9LmZpbGVuYW1lYF06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVhbHM6IGZpbGVuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgcHJlZml4ID0gZmlsZXM/LmRvY3M/LlswXT8ucHJlZml4O1xuICAgIHJldHVybiBwcmVmaXggPyBwcmVmaXggOiAnJztcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0RmlsZVByZWZpeC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/utilities/getFilePrefix.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/utilities/getIncomingFiles.js":
/*!**************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/utilities/getIncomingFiles.js ***!
  \**************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getIncomingFiles: () => (/* binding */ getIncomingFiles)\n/* harmony export */ });\nfunction getIncomingFiles({ data, req }) {\n    const file = req.file;\n    let files = [];\n    if (file && data.filename && data.mimeType) {\n        const mainFile = {\n            buffer: file.data,\n            clientUploadContext: file.clientUploadContext,\n            filename: data.filename,\n            filesize: file.size,\n            mimeType: data.mimeType,\n            tempFilePath: file.tempFilePath\n        };\n        files = [\n            mainFile\n        ];\n        if (data?.sizes) {\n            Object.entries(data.sizes).forEach(([key, resizedFileData])=>{\n                if (req.payloadUploadSizes?.[key] && resizedFileData.mimeType) {\n                    files = files.concat([\n                        {\n                            buffer: req.payloadUploadSizes[key],\n                            filename: `${resizedFileData.filename}`,\n                            filesize: req.payloadUploadSizes[key].length,\n                            mimeType: resizedFileData.mimeType\n                        }\n                    ]);\n                }\n            });\n        }\n    }\n    return files;\n}\n\n//# sourceMappingURL=getIncomingFiles.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrcGx1Z2luLWNsb3VkLXN0XzRiOWY0Y2QwYjM5Y2JmMzMwMzg2YWU0YmZlZWJkNTI5L25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9wbHVnaW4tY2xvdWQtc3RvcmFnZS9kaXN0L3V0aWxpdGllcy9nZXRJbmNvbWluZ0ZpbGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyw0QkFBNEIsV0FBVztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLHlCQUF5QjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJDOlxccHJvamVjdHNcXGF1dGhcXG5vZGVfbW9kdWxlc1xcLnBucG1cXEBwYXlsb2FkY21zK3BsdWdpbi1jbG91ZC1zdF80YjlmNGNkMGIzOWNiZjMzMDM4NmFlNGJmZWViZDUyOVxcbm9kZV9tb2R1bGVzXFxAcGF5bG9hZGNtc1xccGx1Z2luLWNsb3VkLXN0b3JhZ2VcXGRpc3RcXHV0aWxpdGllc1xcZ2V0SW5jb21pbmdGaWxlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gZ2V0SW5jb21pbmdGaWxlcyh7IGRhdGEsIHJlcSB9KSB7XG4gICAgY29uc3QgZmlsZSA9IHJlcS5maWxlO1xuICAgIGxldCBmaWxlcyA9IFtdO1xuICAgIGlmIChmaWxlICYmIGRhdGEuZmlsZW5hbWUgJiYgZGF0YS5taW1lVHlwZSkge1xuICAgICAgICBjb25zdCBtYWluRmlsZSA9IHtcbiAgICAgICAgICAgIGJ1ZmZlcjogZmlsZS5kYXRhLFxuICAgICAgICAgICAgY2xpZW50VXBsb2FkQ29udGV4dDogZmlsZS5jbGllbnRVcGxvYWRDb250ZXh0LFxuICAgICAgICAgICAgZmlsZW5hbWU6IGRhdGEuZmlsZW5hbWUsXG4gICAgICAgICAgICBmaWxlc2l6ZTogZmlsZS5zaXplLFxuICAgICAgICAgICAgbWltZVR5cGU6IGRhdGEubWltZVR5cGUsXG4gICAgICAgICAgICB0ZW1wRmlsZVBhdGg6IGZpbGUudGVtcEZpbGVQYXRoXG4gICAgICAgIH07XG4gICAgICAgIGZpbGVzID0gW1xuICAgICAgICAgICAgbWFpbkZpbGVcbiAgICAgICAgXTtcbiAgICAgICAgaWYgKGRhdGE/LnNpemVzKSB7XG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyhkYXRhLnNpemVzKS5mb3JFYWNoKChba2V5LCByZXNpemVkRmlsZURhdGFdKT0+e1xuICAgICAgICAgICAgICAgIGlmIChyZXEucGF5bG9hZFVwbG9hZFNpemVzPy5ba2V5XSAmJiByZXNpemVkRmlsZURhdGEubWltZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlsZXMgPSBmaWxlcy5jb25jYXQoW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlcjogcmVxLnBheWxvYWRVcGxvYWRTaXplc1trZXldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBgJHtyZXNpemVkRmlsZURhdGEuZmlsZW5hbWV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlc2l6ZTogcmVxLnBheWxvYWRVcGxvYWRTaXplc1trZXldLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW1lVHlwZTogcmVzaXplZEZpbGVEYXRhLm1pbWVUeXBlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmaWxlcztcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0SW5jb21pbmdGaWxlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/utilities/getIncomingFiles.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/utilities/initClientUploads.js":
/*!***************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/utilities/initClientUploads.js ***!
  \***************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initClientUploads: () => (/* binding */ initClientUploads)\n/* harmony export */ });\nconst initClientUploads = ({ clientHandler, collections, config, enabled, extraClientHandlerProps, serverHandler, serverHandlerPath })=>{\n    if (enabled) {\n        if (!config.endpoints) {\n            config.endpoints = [];\n        }\n        /**\n     * Tracks how many times the same handler was already applied.\n     * This allows to apply the same plugin multiple times, for example\n     * to use different buckets for different collections.\n     */ let handlerCount = 0;\n        for (const endpoint of config.endpoints){\n            // We want to match on 'path', 'path-1', 'path-2', etc.\n            if (endpoint.path?.startsWith(serverHandlerPath)) {\n                handlerCount++;\n            }\n        }\n        if (handlerCount) {\n            serverHandlerPath = `${serverHandlerPath}-${handlerCount}`;\n        }\n        config.endpoints.push({\n            handler: serverHandler,\n            method: 'post',\n            path: serverHandlerPath\n        });\n    }\n    if (!config.admin) {\n        config.admin = {};\n    }\n    if (!config.admin.dependencies) {\n        config.admin.dependencies = {};\n    }\n    // Ensure client handler is always part of the import map, to avoid\n    // import map discrepancies between dev and prod\n    config.admin.dependencies[clientHandler] = {\n        type: 'function',\n        path: clientHandler\n    };\n    if (!config.admin.components) {\n        config.admin.components = {};\n    }\n    if (!config.admin.components.providers) {\n        config.admin.components.providers = [];\n    }\n    for(const collectionSlug in collections){\n        const collection = collections[collectionSlug];\n        let prefix;\n        if (collection && typeof collection === 'object' && 'prefix' in collection && typeof collection.prefix === 'string') {\n            prefix = collection.prefix;\n        }\n        config.admin.components.providers.push({\n            clientProps: {\n                collectionSlug,\n                enabled,\n                extra: extraClientHandlerProps ? extraClientHandlerProps(collection) : undefined,\n                prefix,\n                serverHandlerPath\n            },\n            path: clientHandler\n        });\n    }\n};\n\n//# sourceMappingURL=initClientUploads.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrcGx1Z2luLWNsb3VkLXN0XzRiOWY0Y2QwYjM5Y2JmMzMwMzg2YWU0YmZlZWJkNTI5L25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9wbHVnaW4tY2xvdWQtc3RvcmFnZS9kaXN0L3V0aWxpdGllcy9pbml0Q2xpZW50VXBsb2Fkcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sNkJBQTZCLHdHQUF3RztBQUM1STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxrQkFBa0IsR0FBRyxhQUFhO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBIiwic291cmNlcyI6WyJDOlxccHJvamVjdHNcXGF1dGhcXG5vZGVfbW9kdWxlc1xcLnBucG1cXEBwYXlsb2FkY21zK3BsdWdpbi1jbG91ZC1zdF80YjlmNGNkMGIzOWNiZjMzMDM4NmFlNGJmZWViZDUyOVxcbm9kZV9tb2R1bGVzXFxAcGF5bG9hZGNtc1xccGx1Z2luLWNsb3VkLXN0b3JhZ2VcXGRpc3RcXHV0aWxpdGllc1xcaW5pdENsaWVudFVwbG9hZHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGluaXRDbGllbnRVcGxvYWRzID0gKHsgY2xpZW50SGFuZGxlciwgY29sbGVjdGlvbnMsIGNvbmZpZywgZW5hYmxlZCwgZXh0cmFDbGllbnRIYW5kbGVyUHJvcHMsIHNlcnZlckhhbmRsZXIsIHNlcnZlckhhbmRsZXJQYXRoIH0pPT57XG4gICAgaWYgKGVuYWJsZWQpIHtcbiAgICAgICAgaWYgKCFjb25maWcuZW5kcG9pbnRzKSB7XG4gICAgICAgICAgICBjb25maWcuZW5kcG9pbnRzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICogVHJhY2tzIGhvdyBtYW55IHRpbWVzIHRoZSBzYW1lIGhhbmRsZXIgd2FzIGFscmVhZHkgYXBwbGllZC5cbiAgICAgKiBUaGlzIGFsbG93cyB0byBhcHBseSB0aGUgc2FtZSBwbHVnaW4gbXVsdGlwbGUgdGltZXMsIGZvciBleGFtcGxlXG4gICAgICogdG8gdXNlIGRpZmZlcmVudCBidWNrZXRzIGZvciBkaWZmZXJlbnQgY29sbGVjdGlvbnMuXG4gICAgICovIGxldCBoYW5kbGVyQ291bnQgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IGVuZHBvaW50IG9mIGNvbmZpZy5lbmRwb2ludHMpe1xuICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBtYXRjaCBvbiAncGF0aCcsICdwYXRoLTEnLCAncGF0aC0yJywgZXRjLlxuICAgICAgICAgICAgaWYgKGVuZHBvaW50LnBhdGg/LnN0YXJ0c1dpdGgoc2VydmVySGFuZGxlclBhdGgpKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlckNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhbmRsZXJDb3VudCkge1xuICAgICAgICAgICAgc2VydmVySGFuZGxlclBhdGggPSBgJHtzZXJ2ZXJIYW5kbGVyUGF0aH0tJHtoYW5kbGVyQ291bnR9YDtcbiAgICAgICAgfVxuICAgICAgICBjb25maWcuZW5kcG9pbnRzLnB1c2goe1xuICAgICAgICAgICAgaGFuZGxlcjogc2VydmVySGFuZGxlcixcbiAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgICAgICAgcGF0aDogc2VydmVySGFuZGxlclBhdGhcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghY29uZmlnLmFkbWluKSB7XG4gICAgICAgIGNvbmZpZy5hZG1pbiA9IHt9O1xuICAgIH1cbiAgICBpZiAoIWNvbmZpZy5hZG1pbi5kZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgY29uZmlnLmFkbWluLmRlcGVuZGVuY2llcyA9IHt9O1xuICAgIH1cbiAgICAvLyBFbnN1cmUgY2xpZW50IGhhbmRsZXIgaXMgYWx3YXlzIHBhcnQgb2YgdGhlIGltcG9ydCBtYXAsIHRvIGF2b2lkXG4gICAgLy8gaW1wb3J0IG1hcCBkaXNjcmVwYW5jaWVzIGJldHdlZW4gZGV2IGFuZCBwcm9kXG4gICAgY29uZmlnLmFkbWluLmRlcGVuZGVuY2llc1tjbGllbnRIYW5kbGVyXSA9IHtcbiAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgcGF0aDogY2xpZW50SGFuZGxlclxuICAgIH07XG4gICAgaWYgKCFjb25maWcuYWRtaW4uY29tcG9uZW50cykge1xuICAgICAgICBjb25maWcuYWRtaW4uY29tcG9uZW50cyA9IHt9O1xuICAgIH1cbiAgICBpZiAoIWNvbmZpZy5hZG1pbi5jb21wb25lbnRzLnByb3ZpZGVycykge1xuICAgICAgICBjb25maWcuYWRtaW4uY29tcG9uZW50cy5wcm92aWRlcnMgPSBbXTtcbiAgICB9XG4gICAgZm9yKGNvbnN0IGNvbGxlY3Rpb25TbHVnIGluIGNvbGxlY3Rpb25zKXtcbiAgICAgICAgY29uc3QgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb25zW2NvbGxlY3Rpb25TbHVnXTtcbiAgICAgICAgbGV0IHByZWZpeDtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb24gJiYgdHlwZW9mIGNvbGxlY3Rpb24gPT09ICdvYmplY3QnICYmICdwcmVmaXgnIGluIGNvbGxlY3Rpb24gJiYgdHlwZW9mIGNvbGxlY3Rpb24ucHJlZml4ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcHJlZml4ID0gY29sbGVjdGlvbi5wcmVmaXg7XG4gICAgICAgIH1cbiAgICAgICAgY29uZmlnLmFkbWluLmNvbXBvbmVudHMucHJvdmlkZXJzLnB1c2goe1xuICAgICAgICAgICAgY2xpZW50UHJvcHM6IHtcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uU2x1ZyxcbiAgICAgICAgICAgICAgICBlbmFibGVkLFxuICAgICAgICAgICAgICAgIGV4dHJhOiBleHRyYUNsaWVudEhhbmRsZXJQcm9wcyA/IGV4dHJhQ2xpZW50SGFuZGxlclByb3BzKGNvbGxlY3Rpb24pIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHByZWZpeCxcbiAgICAgICAgICAgICAgICBzZXJ2ZXJIYW5kbGVyUGF0aFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhdGg6IGNsaWVudEhhbmRsZXJcbiAgICAgICAgfSk7XG4gICAgfVxufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5pdENsaWVudFVwbG9hZHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/utilities/initClientUploads.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/client/createClientUploadHandler.js":
/*!********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/client/createClientUploadHandler.js ***!
  \********************************************************************************************************************************************************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClientUploadHandler: () => (/* binding */ createClientUploadHandler)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.5.12_react-dom@19.2_2f063b4570924546c23652ef47559849/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var _payloadcms_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @payloadcms/ui */ \"(ssr)/./node_modules/.pnpm/@payloadcms+ui@3.76.1_@type_f9c265fa6d1df29a1ac1379dc00a4f4d/node_modules/@payloadcms/ui/dist/exports/client/index.js\");\n/* harmony import */ var _payloadcms_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @payloadcms/ui */ \"(ssr)/./node_modules/.pnpm/@payloadcms+ui@3.76.1_@type_f9c265fa6d1df29a1ac1379dc00a4f4d/node_modules/@payloadcms/ui/dist/exports/client/chunk-J46CQZ3T.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.5.12_react-dom@19.2_2f063b4570924546c23652ef47559849/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_payloadcms_ui__WEBPACK_IMPORTED_MODULE_2__]);\n_payloadcms_ui__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n/* __next_internal_client_entry_do_not_use__ createClientUploadHandler auto */ \n\n\nconst createClientUploadHandler = ({ handler })=>{\n    return function ClientUploadHandler({ children, collectionSlug, enabled, extra, prefix, serverHandlerPath }) {\n        const { setUploadHandler } = (0,_payloadcms_ui__WEBPACK_IMPORTED_MODULE_2__.useUploadHandlers)();\n        const { config: { routes: { api: apiRoute }, serverURL } } = (0,_payloadcms_ui__WEBPACK_IMPORTED_MODULE_3__.c)();\n        const initializeHandler = (0,_payloadcms_ui__WEBPACK_IMPORTED_MODULE_2__.useEffectEvent)({\n            \"createClientUploadHandler.ClientUploadHandler.useEffectEvent[initializeHandler]\": ()=>{\n                if (enabled) {\n                    setUploadHandler({\n                        collectionSlug,\n                        handler: {\n                            \"createClientUploadHandler.ClientUploadHandler.useEffectEvent[initializeHandler]\": ({ file, updateFilename })=>{\n                                return handler({\n                                    apiRoute,\n                                    collectionSlug,\n                                    extra,\n                                    file,\n                                    prefix,\n                                    serverHandlerPath,\n                                    serverURL,\n                                    updateFilename\n                                });\n                            }\n                        }[\"createClientUploadHandler.ClientUploadHandler.useEffectEvent[initializeHandler]\"]\n                    });\n                }\n            }\n        }[\"createClientUploadHandler.ClientUploadHandler.useEffectEvent[initializeHandler]\"]);\n        (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n            \"createClientUploadHandler.ClientUploadHandler.useEffect\": ()=>{\n                initializeHandler();\n            }\n        }[\"createClientUploadHandler.ClientUploadHandler.useEffect\"], []);\n        return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n            children: children\n        });\n    };\n}; //# sourceMappingURL=createClientUploadHandler.js.map\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHBheWxvYWRjbXMrcGx1Z2luLWNsb3VkLXN0XzRiOWY0Y2QwYjM5Y2JmMzMwMzg2YWU0YmZlZWJkNTI5L25vZGVfbW9kdWxlcy9AcGF5bG9hZGNtcy9wbHVnaW4tY2xvdWQtc3RvcmFnZS9kaXN0L2NsaWVudC9jcmVhdGVDbGllbnRVcGxvYWRIYW5kbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUk2RTtBQUNsQjtBQVdwRCxNQUFNSyw0QkFBNEIsQ0FBb0MsRUFDM0VDLE9BQU8sRUFZUjtJQUNDLE9BQU8sU0FBU0Msb0JBQW9CLEVBQ2xDQyxRQUFRLEVBQ1JDLGNBQWMsRUFDZEMsT0FBTyxFQUNQQyxLQUFLLEVBQ0xDLE1BQU0sRUFDTkMsaUJBQWlCLEVBQ1c7UUFDNUIsTUFBTSxFQUFFQyxnQkFBZ0IsRUFBRSxHQUFHWixpRUFBaUJBO1FBQzlDLE1BQU0sRUFDSmEsUUFBUSxFQUNOQyxRQUFRLEVBQUVDLEtBQUtDLFFBQVEsRUFBRSxFQUN6QkMsU0FBUyxFQUNWLEVBQ0YsR0FBR25CLGlEQUFTQTtRQUViLE1BQU1vQixvQkFBb0JuQiw4REFBY0E7K0ZBQUM7Z0JBQ3ZDLElBQUlTLFNBQVM7b0JBQ1hJLGlCQUFpQjt3QkFDZkw7d0JBQ0FILE9BQUFBOytHQUFTLENBQUMsRUFBRWUsSUFBSSxFQUFFQyxjQUFjLEVBQUU7Z0NBQ2hDLE9BQU9oQixRQUFRO29DQUNiWTtvQ0FDQVQ7b0NBQ0FFO29DQUNBVTtvQ0FDQVQ7b0NBQ0FDO29DQUNBTTtvQ0FDQUc7Z0NBQ0Y7NEJBQ0Y7O29CQUNGO2dCQUNGO1lBQ0Y7O1FBRUFsQixnREFBU0E7dUVBQUM7Z0JBQ1JnQjtZQUNGO3NFQUFHLEVBQUU7UUFFTCxxQkFBTyx1REFBQ2pCLDJDQUFRQSxFQUFSQTtzQkFBVUs7O0lBQ3BCO0FBQ0YsRUFBQyIsInNvdXJjZXMiOlsiQzpcXHNyY1xcY2xpZW50XFxjcmVhdGVDbGllbnRVcGxvYWRIYW5kbGVyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IHR5cGUgeyBVcGxvYWRDb2xsZWN0aW9uU2x1ZyB9IGZyb20gJ3BheWxvYWQnXG5cbmltcG9ydCB7IHVzZUNvbmZpZywgdXNlRWZmZWN0RXZlbnQsIHVzZVVwbG9hZEhhbmRsZXJzIH0gZnJvbSAnQHBheWxvYWRjbXMvdWknXG5pbXBvcnQgeyBGcmFnbWVudCwgdHlwZSBSZWFjdE5vZGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuXG50eXBlIENsaWVudFVwbG9hZEhhbmRsZXJQcm9wczxUIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4+ID0ge1xuICBjaGlsZHJlbjogUmVhY3ROb2RlXG4gIGNvbGxlY3Rpb25TbHVnOiBVcGxvYWRDb2xsZWN0aW9uU2x1Z1xuICBlbmFibGVkPzogYm9vbGVhblxuICBleHRyYTogVFxuICBwcmVmaXg/OiBzdHJpbmdcbiAgc2VydmVySGFuZGxlclBhdGg6IGAvJHtzdHJpbmd9YFxufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlQ2xpZW50VXBsb2FkSGFuZGxlciA9IDxUIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4+KHtcbiAgaGFuZGxlcixcbn06IHtcbiAgaGFuZGxlcjogKGFyZ3M6IHtcbiAgICBhcGlSb3V0ZTogc3RyaW5nXG4gICAgY29sbGVjdGlvblNsdWc6IFVwbG9hZENvbGxlY3Rpb25TbHVnXG4gICAgZXh0cmE6IFRcbiAgICBmaWxlOiBGaWxlXG4gICAgcHJlZml4Pzogc3RyaW5nXG4gICAgc2VydmVySGFuZGxlclBhdGg6IGAvJHtzdHJpbmd9YFxuICAgIHNlcnZlclVSTDogc3RyaW5nXG4gICAgdXBkYXRlRmlsZW5hbWU6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkXG4gIH0pID0+IFByb21pc2U8dW5rbm93bj5cbn0pID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIENsaWVudFVwbG9hZEhhbmRsZXIoe1xuICAgIGNoaWxkcmVuLFxuICAgIGNvbGxlY3Rpb25TbHVnLFxuICAgIGVuYWJsZWQsXG4gICAgZXh0cmEsXG4gICAgcHJlZml4LFxuICAgIHNlcnZlckhhbmRsZXJQYXRoLFxuICB9OiBDbGllbnRVcGxvYWRIYW5kbGVyUHJvcHM8VD4pIHtcbiAgICBjb25zdCB7IHNldFVwbG9hZEhhbmRsZXIgfSA9IHVzZVVwbG9hZEhhbmRsZXJzKClcbiAgICBjb25zdCB7XG4gICAgICBjb25maWc6IHtcbiAgICAgICAgcm91dGVzOiB7IGFwaTogYXBpUm91dGUgfSxcbiAgICAgICAgc2VydmVyVVJMLFxuICAgICAgfSxcbiAgICB9ID0gdXNlQ29uZmlnKClcblxuICAgIGNvbnN0IGluaXRpYWxpemVIYW5kbGVyID0gdXNlRWZmZWN0RXZlbnQoKCkgPT4ge1xuICAgICAgaWYgKGVuYWJsZWQpIHtcbiAgICAgICAgc2V0VXBsb2FkSGFuZGxlcih7XG4gICAgICAgICAgY29sbGVjdGlvblNsdWcsXG4gICAgICAgICAgaGFuZGxlcjogKHsgZmlsZSwgdXBkYXRlRmlsZW5hbWUgfSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXIoe1xuICAgICAgICAgICAgICBhcGlSb3V0ZSxcbiAgICAgICAgICAgICAgY29sbGVjdGlvblNsdWcsXG4gICAgICAgICAgICAgIGV4dHJhLFxuICAgICAgICAgICAgICBmaWxlLFxuICAgICAgICAgICAgICBwcmVmaXgsXG4gICAgICAgICAgICAgIHNlcnZlckhhbmRsZXJQYXRoLFxuICAgICAgICAgICAgICBzZXJ2ZXJVUkwsXG4gICAgICAgICAgICAgIHVwZGF0ZUZpbGVuYW1lLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgaW5pdGlhbGl6ZUhhbmRsZXIoKVxuICAgIH0sIFtdKVxuXG4gICAgcmV0dXJuIDxGcmFnbWVudD57Y2hpbGRyZW59PC9GcmFnbWVudD5cbiAgfVxufVxuIl0sIm5hbWVzIjpbInVzZUNvbmZpZyIsInVzZUVmZmVjdEV2ZW50IiwidXNlVXBsb2FkSGFuZGxlcnMiLCJGcmFnbWVudCIsInVzZUVmZmVjdCIsImNyZWF0ZUNsaWVudFVwbG9hZEhhbmRsZXIiLCJoYW5kbGVyIiwiQ2xpZW50VXBsb2FkSGFuZGxlciIsImNoaWxkcmVuIiwiY29sbGVjdGlvblNsdWciLCJlbmFibGVkIiwiZXh0cmEiLCJwcmVmaXgiLCJzZXJ2ZXJIYW5kbGVyUGF0aCIsInNldFVwbG9hZEhhbmRsZXIiLCJjb25maWciLCJyb3V0ZXMiLCJhcGkiLCJhcGlSb3V0ZSIsInNlcnZlclVSTCIsImluaXRpYWxpemVIYW5kbGVyIiwiZmlsZSIsInVwZGF0ZUZpbGVuYW1lIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@payloadcms+plugin-cloud-st_4b9f4cd0b39cbf330386ae4bfeebd529/node_modules/@payloadcms/plugin-cloud-storage/dist/client/createClientUploadHandler.js\n");

/***/ })

};
;